{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","console","log","name","number","onClick","Persons","persons","newFilter","filterPerson","filter","toLowerCase","indexOf","map","id","PersonForm","addPerson","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","onChange","type","Filter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","success","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","setSuccess","useEffect","numberService","initialPersons","event","target","preventDefault","samePerson","find","p","some","result","window","confirm","changedPerson","updatedPerson","setTimeout","catch","error","returnedPerson","concat","deletedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d49d7a0e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  console.log(person);\r\n\r\n  \r\n  return (\r\n        <div>{person.name} {person.number}<button onClick={deletePerson}>delete</button></div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, newFilter, deletePerson }) => {\r\n  console.log(persons);\r\n  const filterPerson = persons.filter(person => \r\n    person.name.toLowerCase().indexOf(newFilter.toLowerCase()) !== -1 // jos indexOf antaa positiivisen numeron, se kertoo että elementti on olemassa (argumentti käy toteen). includes antaa boolean arvon..\r\n  )\r\n  console.log(filterPerson);\r\n\r\n  return (\r\n    <div>\r\n    {filterPerson.map((person) =>\r\n      <Person key={person.name} person={person} deletePerson={() => deletePerson(person.id)} />\r\n    )}\r\n  </div>\r\n    )\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, handleNameChange, handleNumberChange, newName, newNumber }) => {\r\n\r\nreturn (\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      name:\r\n      <input\r\n      value={newName}\r\n      onChange={handleNameChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      number:\r\n      <input\r\n      value={newNumber}\r\n      onChange={handleNumberChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with<input value={newFilter} onChange={handleFilterChange}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst removePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  removePerson,\r\n  update\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message, success }) => {\r\n\r\n\r\n  const successStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n  \r\n  \r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (success === true) {\r\n    return (\r\n      <div style={successStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div style={errorStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  }\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport numberService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [success, setSuccess] = useState(null)\n\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n        console.log(initialPersons);\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const samePerson = persons.find(p => p.name === newName)\n\n    if (persons.some(p => p.name === newName)) {\n      const result = window.confirm(`${samePerson.name} is already added to phonebook, replace the old number with a new one?`)\n      console.log(samePerson.name);\n\n      if (result === true) {\n\n        const changedPerson = { ...samePerson, number: newNumber }\n        \n        numberService\n          .update(changedPerson.id, changedPerson)\n          .then(updatedPerson => {\n            console.log(updatedPerson);\n            setPersons(persons.map(p => p.id !== updatedPerson.id ? p : updatedPerson))\n            setErrorMessage(`Changed ${updatedPerson.name}'s number`)\n            setSuccess(true)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${changedPerson.name} was already deleted`)\n              setSuccess(false)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      } else {\n        return null\n      }\n\n    } else {\n      const person = {\n        name: newName,\n        number: newNumber\n      }\n  \n      numberService\n        .create(person)\n        .then(returnedPerson => {\n          console.log(returnedPerson);\n          setPersons(persons.concat(returnedPerson))\n          console.log(persons);\n          setErrorMessage(`Added ${returnedPerson.name}'s number`)\n          setSuccess(true)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorMessage(error.response.data.error)\n          setSuccess(false)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n\n  }\n\n  const deletePerson = (id) => {\n    const person = persons.find(p => p.id === id)\n    console.log(person);\n    console.log('käy täällä');\n\n    const result = window.confirm(`Delete ${person.name} ?`)\n\n    if (result === true) {\n      numberService\n        .removePerson(person.id)\n        .then(deletedPerson => {\n          console.log(deletedPerson);\n          setPersons(persons.filter(p => p.id !== id))\n          setErrorMessage(`Deleted ${deletedPerson.name}'s number`)\n          setSuccess(true)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    })\n        .catch(error => {\n          setErrorMessage(\n            `${person.name} was already deleted from server`)\n            setSuccess(false)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value);\n    setNewFilter(event.target.value)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} success={success}/>\n      <Filter\n        handleFilterChange={handleFilterChange}\n        newFilter={newFilter}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        deletePerson={deletePerson}\n        newFilter={newFilter}\n        persons={persons} />\n    </div>\n  )\n\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}